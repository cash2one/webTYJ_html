<!--
    author:NM
    pageName:个人客户管理查询客户
-->
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>个人客户管理查询客户</title>
    <link rel="stylesheet" href="bower_components/skins/zyupload-1.0.0.min.css " type="text/css">
    <!--实现单选效果-->
    <script>
        function check(obj) {
            $(':checkbox').each(function () {
                if (this != obj) {
                    $(this).attr("checked", false);
                }
                else {
                    if ($(this).prop("checked")){
                        $(this).attr("checked", true);
                    }
                    else {
                        $(this).attr("checked", false);
                    }
                }
            });
        }
    </script>

    <script type="text/javascript">
    
    </script>



</head>
<body>
<div id="content-first">
    <div ng-show="personDatil">
        <!--查询条件-->
        <div class="sel">
            <div class="row search-padding-10">
                <div class="col-lg-1 col-md-2 col-sm-2 text-left">
                    <button type="button" class="btn btn-default btn-primary" ng-click="cancle()">
                        <span class="glyphicon glyphicon-arrow-left btn_icon"></span>
                        返回
                    </button>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-4 text-right">
                    客户姓名 :
                </div>
                <div class="col-lg-3 col-md-2 col-sm-5">
                    <input type="text" class="form-control" id="personName" ng-model="personCustNews.name" set-Focus="" required  placeholder="请输入客户姓名">
                </div>

                <div class="col-lg-2 col-md-2 col-sm-3 ">
                    <button type="button" class="btn btn-default btn-primary tab-btn" ng-click="searchPaginator._load()">
                        <span class="glyphicon glyphicon-search btn_icon"></span>
                        查询
                    </button>
                    <a style="color:red;cursor:pointer" ng-click="changeState()">高级搜索</a>
                </div>

                <div class="col-lg-1 col-md-1 col-sm-1 ">

                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 text-right">
                    <button type="button" class="btn btn-default btn-primary tab-btn" ng-click="listview()">
                        <span class="glyphicon glyphicon-th-list btn_icon"></span>
                        列表
                    </button>
                    <button type="button" class="btn btn-default btn-primary tab-btn" ng-click="tabview()">
                        <span class="glyphicon glyphicon-th-large btn_icon"></span>
                        网格
                    </button>
                </div>
            </div>
            <div class="row search-padding-10" ng-show="search==1">

                <div class="col-lg-1 col-md-2 col-sm-2 text-right">
                    证件类型：
                </div>
                <div class="col-lg-2 col-md-4 col-sm-4">
                    <select ng-model="personCustNews.cardType" id="cardType" class="form-control">
                        <option value="">请选择</option>
                        <option value="0">身份证</option>
                        <option value="1">护照</option>
                    </select>
                </div>

                <div class="col-lg-1 col-md-2 col-sm-2 text-right">
                    证件号码：
                </div>
                <div class="col-lg-2 col-md-4 col-sm-4">
                    <input type="text" ng-model="personCustNews.cardNum" id="cardNum" placeholder="请输入证件号码" class="form-control"/>
                </div>
                <div class="col-lg-1 col-md-2 col-sm-2 text-right">
                    注册号码：
                </div>
                <div class="col-lg-2 col-md-4 col-sm-4">
                    <input type="text" id="registerPhone" ng-model="personCustNews.registerPhone"  placeholder="请输入注册号码" class="form-control"/>
                </div>
                <div class="col-lg-1 col-md-2 col-sm-2 text-right">
                    客户性别：
                </div>
                <div class="col-lg-2 col-md-2 col-sm-4">
                    <select ng-model="personCustNews.sex" name="sex" class="form-control" id="sexPerson">
                        <option value="">请选择</option>
                        <option value="0">男</option>
                        <option value="1">女</option>
                    </select>
                </div>

                <div class="col-lg-1 col-md-2 col-sm-2 text-right">
                    紧急联系人：
                </div>
                <div class="col-lg-2 col-md-4 col-sm-4">
                    <input type="text" ng-model="personCustNews.urgentContactPerson" id="urgentContactPerson" placeholder="请输入紧急联系人" class="form-control"/>
                </div>

                <div class="col-lg-1 col-md-2 col-sm-2 text-center">
                    紧急电话：
                </div>
                <div class="col-lg-2 col-md-4 col-sm-4">
                    <input type="text" ng-model="personCustNews.urgentContactPhone" id="urgentContactPhone" placeholder="请输入紧急联系电话" class="form-control"/>
                </div>
            </div>
        </div>
        <div  class="row padding">
            <div class="col-lg-12">
                <div class="search-padding-10">
                    <button type="button" class="btn btn-default btn-primary" ui-sref="index.baseManagement.project.newCustomers" >
                        <span class="glyphicon glyphicon-plus btn_icon"></span>新建
                    </button>
                    <button type="button" class="btn btn-default btn-primary" ng-show="showStatus==1" ng-click="updateData();">
                        <span class="glyphicon glyphicon-edit btn_icon"></span>编辑
                    </button>
                    <button type="button" class="btn-primary btn"  onclick="importExcelTemplet()">
                        导入模版下载
                    </button>
                    <button type="button" class="btn btn-default btn-primary" ng-click="showExcel()">
                        导入
                    </button>
                    <button type="button" class="btn btn-default btn-primary"  ng-click="exportExcel()">
                        导出
                    </button>
                    <button type="button" class="btn btn-default btn-primary" ng-click="finishPerson()">完成</button>
                    <input type="hidden" id="fileUrl" value="{{fileUrl}}">
                </div>
                <table ng-show="showStatus==1" id="personTable">  <!-- 列表的显示与隐藏 songjia 2016-02-05 start -->
                    <thead>
                    <tr>
                        <th width="50px"></th>
                        <th>客户编号</th>
                        <th>客户姓名</th>
                        <th>性别</th>
                        <th>证件类型</th>
                        <th>证件号码</th>
                        <th>注册电话</th>
                        <th>紧急联系人</th>
                        <th>紧急联系电话</th>
                        <th>VIP客户</th>
                        <th>重点客户</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr  id="bbb" style="cursor:pointer;" ng-repeat="items in  searchPaginator.object.personCustNew"  ng-show="items.custId!=null"  ng-click="selectBox(items,$event)" ng-dblclick="show(items)" ng-class="{'this_info':btnIndex==items.custId}">
                        <td><input type="checkbox" name="aaa" value="items" onclick="check(this)" ng-click="getdata(items,$event)" id="{{items.custId}}"></td>
                       <td style="display: none">{{items.name}}</td>
                        <td >{{items.custCode}}</td>
                        <td >{{items.name}}</td>
                        <td>
                            <span ng-switch on="items.sex">
                                <span ng-switch-when="0">男</span>
                                <span ng-switch-when="1">女</span>
                            </span>
                        <td>
                        <span ng-switch on="items.cardType">
                        <span ng-switch-when="0">身份证</span>
                        <span ng-switch-when="1">护照</span>
                        </span>
                        </td>
                        <td >{{items.cardNum| limitTo:18 }}</td>
                        <td>{{items.registerPhone}}</td>
                        <td>{{items.urgentContactPerson}}</td>
                        <td>{{items.urgentContactPhone}}</td>
                        <td >
                        <span ng-show="items.applystype1!=null||items.applystype==null">
                           <span>×</span>
                        </span>
                         <span ng-show="items.applystype!=null&&items.applystype1==null" ng-switch on ="items.reviewState">
                            <span ng-switch-when="0">×</span>
                            <span ng-switch-when="1">√</span>
                            <span ng-switch-when="2">×</span>
                        </span>
                        </td>
                        <td >
                        <span ng-show="items.applystype1!=null && items.reviewState==1" ng-switch on ="items.applystatus">
                           <span ng-switch-when="0">×</span>
                            <span ng-switch-when="1">√</span>
                            <span ng-switch-when="2">×</span>
                        </span>
                        <span ng-show="items.applystype1!=null&&items.applystype==null" ng-switch on ="items.applystatus">
                            <span ng-switch-when="0">×</span>
                            <span ng-switch-when="1">√</span>
                            <span ng-switch-when="2">×</span>
                        </span>
                        <span ng-show="items.applystype1==null">
                            <span >×</span>
                        </span>
                        </td>
                    </tr>
                    <tr ng-if="searchPaginator.object.personCustNew.length == null">
                        <td colspan="12">暂无数据！</td>
                    </tr>
                    </tbody>
                </table>   <!-- 列表的显示与隐藏 songjia 2016-02-05 end -->

                <!-- 网格的显示与隐藏 songjia 2016-02-05 start -->
                <div class="search-padding-10"  ng-show="showStatus==0">
                    <div class="col-lg-4 col-md-6 col-sm-6" ng-repeat="items in  searchPaginator.object.personCustNew"  ng-show="items.custId!=null">
                        <div id="pannel">
                            <div class="title">
                                <div class="col-xs-6 col-lg-6 col-md-6 col-sm-6">
                                    <h3 class="text-left">个人编号</h3>
                                </div>
                                <div class="col-xs-5 col-lg-5 col-md-6 col-sm-5 text-right">
                                    {{items.custCode}}
                                </div>
                                <div class="downList">
                                    <div class="col-xs-12 col-lg-12 col-md-12 col-sm-12 text-right">
                                        <span class="glyphicon glyphicon-chevron-down" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></span>
                                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                            <li><a style="cursor: pointer" ng-click="updateCustomer(items);">编辑</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="pannel_content">
                                <div class="row"  ng-dblclick="show(items)">
                                    <div class="col-xs-12 col-lg-12 col-md-12">
                                        <div class="row search-padding">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6 text-right">客户姓名:</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">{{items.name}}</div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6 text-right">性別 :</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <span ng-switch on="items.sex">
                                                        <span ng-switch-when="0">男</span>
                                                        <span ng-switch-when="1">女</span>
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6 text-right">证件类型:</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 ">
                                                        <span ng-switch on="items.cardType">
                                                        <span ng-switch-when="0">身份证</span>
                                                        <span ng-switch-when="1">护照</span>
                                                        </span>
                                                </div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6 text-right">证件号码:</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 ">{{items.cardNum| limitTo:18}}</div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6 text-right">紧急联系电话:</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 ">{{items.urgentContactPhone}}</div>
                                            </div>
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6 text-right">紧急联系人:</div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 ">{{items.urgentContactPerson}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="col-lg-4 col-md-6 col-sm-6" ng-show="searchPaginator.object.personCustNew.length == null && showStatus==0">
                    <div id="pannel">
                        <div class="title">
                            <div class="col-xs-6 col-lg-6 col-md-6 col-sm-6 ">
                                <h3>个人客户</h3>
                            </div>
                            <div class="col-xs-6 col-lg-6 col-md-6 col-sm-6">
                                <!-- <span class="glyphicon glyphicon-search"></span>-->
                            </div>
                        </div>
                        <div class="pannel_content">
                            <div class="row">
                                <div class="col-xs-8 col-lg-8 col-md-8">
                                    <div class="row search-padding 10">
                                        暂无数据！
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>    <!-- 网格的显示与隐藏 songjia 2016-02-05 end -->
            </div>
                <div class="padding">
                    <div class="bill_paging">
                        <span>共{{searchPaginator.object.page.totalResult}}条</span>
                        <ul class="pagination">
                            <li ng-class="{true:'disabled'}[searchPaginator.page.currentPage==1]">
                                <a href="javascript:void(0)" ng-click="searchPaginator.go(1)">首页</a>
                            </li>
                            <li ng-class="{true:'disabled'}[searchPaginator.page.currentPage==1]">
                                <a href="javascript:void(0)" ng-show="searchPaginator.hasPrevious()" ng-click="searchPaginator.previous()">上一页</a>
                            </li>
                            <li ng-class="{true:'active'}[searchPaginator.page.currentPage==i]" ng-repeat="i in searchPaginator.pages">
                                <a href="javascript:void(0)"  ng-click="searchPaginator.go(i)">{{i}}</a>
                            </li>
                            <li ng-class="{true:'disabled'}[searchPaginator.page.currentPage==searchPaginator.page.totalPage]">
                                <a href="javascript:void(0)" ng-show="searchPaginator.hasNext()" ng-click="searchPaginator.next()">下一页</a>
                            </li>
                            <li ng-class="{true:'disabled'}[searchPaginator.page.currentPage==searchPaginator.page.totalPage]">
                                <a href="javascript:void(0)" ng-click="searchPaginator.go(searchPaginator.page.totalPage)">尾页</a>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!--查看详情-->
<!--查看详情-->
<div class="padding" ng-show="showDatils">
    <div class="sel1">
        <div class="row search-padding-10">
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                姓名：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.name!=null">
                {{person.name}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.name==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                性别：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.sex!=null">
                        <span ng-switch on="person.sex">
                                <span ng-switch-when="0">男</span>
                                <span ng-switch-when="1">女</span>
                            </span>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.sex==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                家家号：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.jiajiaNum!=null">
                {{person.jiajiaNum}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.jiajiaNum==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                籍贯：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.nativePlace!=null">
                {{person.nativePlace}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.nativePlace==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                微信号：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.weixinNum!=null">
                {{person.weixinNum}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.weixinNum==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                户口所在地：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.census!=null">
                {{person.census}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.census==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                证件类型：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.cardType!=null">
                <span ng-switch on="person.cardType" >
                     <span ng-switch-when="0">身份证</span>
                     <span ng-switch-when="1">护照</span>
                </span>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.cardType==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                婚姻状况：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.marrieState!=null">
                 <span ng-switch on="person.marrieState">
                     <span ng-switch-when="0">已婚</span>
                     <span ng-switch-when="1">未婚</span>
                </span>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.marrieState==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                证件号码：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.cardNum!=null">
                {{person.cardNum| limitTo:18}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.cardNum==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                紧急联系人：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.urgentContactPerson!=null">
                {{person.urgentContactPerson}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.urgentContactPerson==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                联系电话：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.phoneNum!=null">
                {{person.phoneNum}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.phoneNum==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                注册电话：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.registerPhone!=null">
                {{person.registerPhone}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.registerPhone==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                紧急电话：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.urgentContactPhone!=null">
                {{person.urgentContactPhone}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.urgentContactPhone==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                工作单位：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.workUnits!=null">
                {{person.workUnits}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.workUnits==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                邮件：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.email!=null">
                {{person.email}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.email==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                联系电话1：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.phoneNum1!=null">
                {{person.phoneNum1}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.phoneNum1==null">
                <b>暂无数据</b>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right" >
                联系电话2：
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.phoneNum2!=null">
                {{person.phoneNum2}}
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2" ng-show="person.phoneNum2==null">
                <b>暂无数据</b>
            </div>
            <div class="clear"></div>
            <div class="col-lg-2 col-md-2 col-sm-2 text-right" >
                附件列表 ：
            </div>
            <div class="col-lg-10 col-md-10 col-sm-10 " >
             <span ng-repeat="item in person.annexs" ng-show="person.annexs!=null">
                   <img src={{fileUrl}}/{{item.annexAddress}}  width="80px" height="80px">
             </span>
             <span ng-repeat="item in person.annexs" ng-show="person.annexs==null">
                  <b>暂无文件</b>
             </span>
            </div>
        </div>
    </div>
    <div class="text-center">
        <button  class="btn btn-default btn-primary" ng-click="back()">返回</button>
    </div>
</div>

    <!--修改客户-->
    <div ng-show="personUpdate">
        <div class="row padding">
            <div class="col-lg-12">

                <form id="css_form" name="mainForm" novalidate>
                    <div class="sel1">
                        <div class="row search-padding-10">
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                姓名：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" ng-model="person.name" name="name"  placeholder="请输入姓名"  class="form-control"/>
                            </div>
                            <div class="col-lg-1 col-md-3 col-sm-3 blankSpace">
                                <span style="color: red">*</span>
                            </div>
                            <div class="col-lg-1 col-md-3 col-sm-3">
                                <button type="button" class="btn btn-default btn-primary tab-btn"style="margin-left: -50px">
                                    身份证阅读器
                                </button>
                            </div>
                            <div class="col-lg-1 col-md-2 col-sm-2 text-right">
                                婚姻状况：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <select ng-options="a.slaveName as a.description for a in marriedList"  class="form-control" ng-model="person.marrieState" name="marrieState">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                客户性别：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <select ng-options="a.slaveName as a.description for a in sexList"  class="form-control" ng-model="person.sex" name="sex" >
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                <span style="color: red">*</span>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                紧急联系人：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" class="form-control" ng-model="person.urgentContactPerson" name="urgentContactPerson" placeholder="请输入紧急联系人" />
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                民族：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <select ng-model="person.nation" name="nation" class="form-control">
                                    <option value="请选择">请选择</option>
                                    <option value="汉族">汉族</option>
                                    <option value="蒙古族">蒙古族</option>
                                    <option value="回族">回族</option>
                                    <option value="藏族">藏族</option>
                                    <option value="维吾尔族">维吾尔族</option>
                                    <option value="苗族">苗族</option>
                                    <option value="彝族">彝族</option>
                                    <option value="壮族">壮族</option>
                                    <option value="布依族">布依族</option>
                                    <option value="朝鲜族">朝鲜族</option>
                                    <option value="满族">满族</option>
                                    <option value="侗族">侗族</option>
                                    <option value="瑶族">瑶族</option>
                                    <option value="白族">白族</option>
                                    <option value="土家族">土家族</option>
                                    <option value="哈尼族">哈尼族</option>
                                    <option value="哈萨克族">哈萨克族</option>
                                    <option value="傣族">傣族</option>
                                    <option value="黎族">黎族</option>
                                    <option value="傈僳族">傈僳族</option>
                                    <option value="佤族">佤族</option>
                                    <option value="畲族">畲族</option>
                                    <option value="高山族">高山族</option>
                                    <option value="拉祜族">拉祜族</option>
                                    <option value="水族">水族</option>
                                    <option value="东乡族">东乡族</option>
                                    <option value="纳西族">纳西族</option>
                                    <option value="景颇族">景颇族</option>
                                    <option value="柯尔克孜族">柯尔克孜族</option>
                                    <option value="土族">土族</option>
                                    <option value="达斡尔族">达斡尔族</option>
                                    <option value="仫佬族">仫佬族</option>
                                    <option value="羌族">羌族</option>
                                    <option value="布朗族">布朗族</option>
                                    <option value="撒拉族">撒拉族</option>
                                    <option value="毛南族">毛南族</option>
                                    <option value="仡佬族">仡佬族</option>
                                    <option value="锡伯族">锡伯族</option>
                                    <option value="阿昌族">阿昌族</option>
                                    <option value="普米族">普米族</option>
                                    <option value="塔吉克族">塔吉克族</option>
                                    <option value="怒族">怒族</option>
                                    <option value="乌孜别克族">乌孜别克族</option>
                                    <option value="俄罗斯族">俄罗斯族</option>
                                    <option value="鄂温克族">鄂温克族</option>
                                    <option value="德昂族">德昂族</option>
                                    <option value="保安族">保安族</option>
                                    <option value="裕固族">裕固族</option>
                                    <option value="京族">京族</option>
                                    <option value="塔塔尔族">塔塔尔族</option>
                                    <option value="独龙族">独龙族</option>
                                    <option value="鄂伦春族">鄂伦春族</option>
                                    <option value="赫哲族">赫哲族</option>
                                    <option value="门巴族">门巴族</option>
                                    <option value="珞巴族">珞巴族</option>
                                    <option value="基诺族">基诺族</option>
                                </select>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                &nbsp;
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                紧急联系电话：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" class="form-control" ng-model="person.urgentContactPhone" name="urgentContactPhone"   placeholder="请输入紧急联系人号码"/>
                            </div>
                            <div class="clear"></div>

                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                证件类型：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <select ng-options="a.slaveName as a.description for a in cardTypeList"  ng-model="person.cardType"  name="cardType" id="cardsType" class="form-control" ng-change="changeData()">
                                    <option value="">--请选择--</option>
                                </select>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                <span style="color: red">*</span>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                微信号：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" class="form-control" ng-model="person.weixinNum" name="weixinNum"  placeholder="请输入微信号" readonly/>
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                证件号码：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4" ng-show="sf">
                                <input type="text" class="form-control"ng-model="person.cardNum" name="cardNum"  placeholder="请输入证件号码"/>
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4" ng-show="hz">
                                <input type="text" class="form-control" ng-model="person.cardNum1" name="cardNum1"    placeholder="请输入护照号码"/>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                <span style="color: red">*</span>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                家家号：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text"  class="form-control" ng-model="person.jiajiaNum" name="jiajiaNum" placeholder="请输入家家号" readonly/>
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                生日：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="date" ng-model="person.birthday" name="birthday" class="form-control"/>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                &nbsp;
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                电子邮件：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="email" class="form-control" ng-model="person.email" name="email"  placeholder="请输入电子邮件"/>
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                注册电话：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" class="form-control" ng-model="person.registerPhone"  name="registerPhone"  placeholder="请输入电话号码"/>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                <span style="color: red">*</span>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                工作单位：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" class="form-control" ng-model="person.workUnits" name="workUnits"  placeholder="请输入工作单位"/>
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                户口所在地：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text"  class="form-control" ng-model="person.census" name="census"  placeholder="请输入户口所在地"/>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                &nbsp;
                            </div>

                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                籍贯：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <span name="principal"  ng-model="person.nativePlace" >{{person.nativePlace}}</span>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                <a ng-click="addCity()"><span class="glyphicon glyphicon-plus"></span></a>
                            </div>
                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                                联系电话：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4">
                                <input type="text" class="form-control" ng-model="person.phoneNum" name="phoneNum"  placeholder="请输入电话号码"/>
                            </div>
                            <div class="col-lg-1 col-md-6 col-sm-6 blankSpace">
                                &nbsp;
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right" ng-show="person.phoneNum1!=null">
                                联系电话1：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4" ng-show="person.phoneNum1!=null">
                                <input type="text" class="form-control" ng-model="person.phoneNum1" name="phoneNum1"  placeholder="请输入电话号码"/>
                            </div>
                            <div class="clear"></div>

                            <div class="col-lg-2 col-md-2 col-sm-2 text-right" ng-show="person.phoneNum2!=null" >
                                联系电话2：
                            </div>
                            <div class="col-lg-3 col-md-4 col-sm-4" ng-show="person.phoneNum2!=null">
                                <input type="text" class="form-control" ng-model="person.phoneNum2" name="phoneNum2"  placeholder="请输入电话号码"/>
                            </div>
                            <div class="clear"></div>

                            <div class="col-lg-12 col-md-12 col-sm-12 text-right">
                                <button class="btn btn-default btn-primary ">
                                    精拍仪
                                </button>
                            </div>

                            <div class="clear"></div>
                            <div class="col-lg-2 col-md-2 col-sm-2 text-right" >
                                附件列表 ：
                            </div>
                            <div class="col-lg-10 col-md-10 col-sm-10">
                                 <span ng-repeat="item in person.annexs" ng-show="person.annexs!=null" >
                                     <div class="col-lg-3 col-md-3 col-sm-3" >
                                         <img src={{fileUrl}}/{{item.annexAddress}}  width="80px" height="80px">
                                         <div class="col-lg-12 col-md-12 col-sm-12" >
                                             <button class="btn btn-default btn-primary tab-btn" ng-click="delPic(item);">移除</button>
                                         </div>

                                     </div>
                                 </span>
                                 <span ng-repeat="item in person.annexs" ng-show="person.annexs==null">
                                      <b>暂无文件</b>
                                 </span>
                            </div>

                        </div>
                    </div>
                </form>
                <div id="remove1">
                    <div id="zyupload" class="zyupload" ></div>
                </div>

                <div class="text-center">
                    <button type="button" class="btn btn-default tab-btn" ng-click="cancle1Person()">
                        取消
                    </button>
                    <button type="button" class="btn btn-default btn-primary tab-btn" ng-click="updatePerson();">
                        提交
                    </button>
                </div>
            </div>
</div>
</div>
</div>

<div class="modal fade" id="addExcel" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true" value="1">
    <input id="excelTyle" value="1" type="hidden">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <span style="color:red">
                 上传:   具有唯一性的数据将不会被导入
                </span>
            </div>
            <div class="modal-body">
                <div class="padding">
                    <div class="row search-padding-10">
                        <div class="col-lg-12 col-md-2 col-sm-2 ">
                            <input type="hidden" id="fileUrls" value="{{fileUrl}}">
                        </div>
                        <div class="col-lg-12 col-md-2 col-sm-2 text-right">

                        </div>
                    </div>
                    <div id="remove">
                        <div id="excelupload" class="zyupload"></div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"  data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" ng-click="saveFile()">确认</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" id="chooseCity" tabindex="-1" role="dialog"
     aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    选择省市
                </h4>
            </div>
            <div class="modal-body">
                <div class="sel1">
                    <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                        所在省：
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <select required="" class="form-control" ng-model="person.province" ng-options="key as key for (key,value) in division"
                                ng-change="person.city='';person.district='';">
                            <option value="">省</option>
                        </select>
                    </div>

                    <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                        所在市：
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <select class="form-control" ng-model="person.city" ng-options="key as key for (key,value) in division[person.province]"
                                ng-change="person.district='';">
                            <option value="">市</option>
                        </select>
                    </div>

                    <div class="col-lg-2 col-md-2 col-sm-2 text-right">
                        所在县/区：
                    </div>
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <select class="form-control" ng-model="person.district" ng-options="value as value for value in division[person.province][person.city]">
                            <option value="">区</option>
                        </select>
                    </div>

                    <div class="clear"></div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" ng-click="cancleCity()">取消</button>
                <button class="btn btn-primary" ng-click="saveCity()">提交</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<div class="modal fade" id="uploadProcessDialog" role="dialog" aria-label="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                文件上传导入进度
            </div>
            <div class="modal-body">
                <div class="text_title">
                    <div class="progress progress-striped active">
                        <div class="progress-bar progress-bar-success" id="progress" role="progressbar"
                             aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="myObj">
                            <span class="sr-only">{{bfNum*100}}% 完成</span>
                        </div>
                    </div>
                    <div>总共需要上传记录<b id="totalnum2"></b>条，目前已成功上传<b id="bsnum"></b>条记录。</div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="blankSpace"></div>
                <!--<button type="button" class="btn btn-default" >关闭</button>-->
                <!--<button type="button" class="btn btn-primary">确认</button>-->
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">
    function importExcelTemplet(){
        var url = document.getElementById("fileUrls").value;
        window.location.href=url +"/info/importExcelTemplet.do"
    }
</script>
</html>